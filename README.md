# fsm_examples
Example1: two leds, one button. Startup -> button polling -> led 1 on - led 2 off -> led 1 off - led 2 on -> all off -> button polling

Шаги:
1. Номера состояний (enum)
2. Функции реализации состояний (array)
3. Коды результата работы (enum)
4. Соотношение состояний с функциями реализации (array pointer of functios)
5. Создание таблицы переходов: исходное состояние - результат работы - следующее состояние (struct)
6. Заполнение таблицы переходов (array of struct)
7. В основном цикле проходим по массиву указателей
8. Переключаем состояния в зависимости от текущего и кода результата работы

Таблица переходов
| Текущее состояние | Результат работы | Следующее состояние |
|-------------------|------------------|---------------------|
|     STARTUP       |     OK_FSM       |      BUTTON_POLL    |
|-------------------|------------------|---------------------|
|     BUTTON_POLL   |     OK_FSM       |  LED1_ON_LED2_OFF   |
|-------------------|------------------|---------------------|
|     BUTTON_POLL   |     REPEAT_FSM   |      BUTTON_POLL    |
|-------------------|------------------|---------------------|
| LED1_ON_LED2_OFF  |     OK_FSM       |  LED1_OFF_LED2_ON   |
|-------------------|------------------|---------------------|
| LED1_OFF_LED2_ON  |     OK_FSM       |       ALL_OFF       |
|-------------------|------------------|---------------------|
|     ALL_OFF       |     OK_FSM       |      BUTTON_POLL    |
+-------------------|------------------|---------------------+
